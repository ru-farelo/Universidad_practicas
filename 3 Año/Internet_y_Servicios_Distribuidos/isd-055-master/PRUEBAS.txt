
// EJECUTAR SI TAL EN MYSQL -> EN CASO DE EJECUTAR LOS TEST , SEGUIRIAN LOS IDS
// ALMACENADOS DE LOS PARTIDOS BORRADOS Y LAS COMPRAS BORRADAS
//EJECUTAR EN MYSQL
//ALTER TABLE Partido AUTO_INCREMENT = 1;
//ALTER TABLE comprar_entradas AUTO_INCREMENT = 1;

//SI SE EL EXUCUTE SQL SIN LOS TEST ENTONCES NO PASARIA NADA. EMPERIA POR DEFECTO EN 1 EL ID DE PARTIDO Y COMPRA
//SIN LOS TEST ENTONCES NO PASARIA NADA. -> mvn sql:execute install -DskipTests=true

//DEJE SOLO LAS PRUEBAS PARA CREAR PARTIDO Y BUSCAR PARTIDO POR ID YA QUE SON LAS QUE ME CORRESPONDEN
//EN LA TT-1

// 1 FUNCIONALIDAD --> AÑADIR PARTIDO   -addMatch <visitor> <celebrationdate> <price> <maxTickets>
 mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-addMatch 'Equipo A' '2024-08-15T17:00' 20 10" // Salida -> Partido 1 created sucessfully


 mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-addMatch 'Equipo B' '2024-09-15T12:00' 15 250" // Salida -> Partido 2 created sucessfully


 mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-addMatch 'Equipo C' '2024-10-15T19:00' 10 200" // Salida -> Partido 3 created sucessfully 


//Equipo Visitante inválido
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-addMatch ' ' '2024-08-15T17:00' 20 10" // Salida -> Invalid Equipo_Visitante value (it cannot be null neither empty)


// Fecha inválido
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-addMatch 'Equipo D' '2023-07-15T19:00' 10 200" // Salida -> Fechas inválidas: initCelebrationDate > registerDate , the date has already passed

//Precio inválido
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-addMatch 'Equipo D' '2024-11-15T11:00' -1 200" //Salida -> No se puede añadir un precio negativo.

//Numero de entradas inválido
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-addMatch 'Equipo D' '2024-11-15T11:00' 10 0" // Salida ->  No se puede añadir un numero de entradas disponible 0 o menor.

//2 [PASO NECESARIO PARA TENER UN PARTIDO PASADO EN EL QUE NO SEPUEDAN COMPRAR ENTRADAS]
UPDATE Partido SET Fecha_del_partido='2023-09-15 12:00' WHERE PartidoID=2;




// Comprar entrada
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-buy 1 user1@udc.es 5 1111222233334444" // Create Entrada 1
// Entrada pasada de tiempo
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-buy 1 user2@udc.es 4 2222333344445555" // Create Entrada 2
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-buy 3 user1@udc.es 8 1111222233334444" // Create Entrada 3
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-buy 3 user3@udc.es 7 3333444455556666" // Create Entrada 4

mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-buy 1 user3@udc.es 2 1111222233334444" // Entradas disponibles insuficientes
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-buy 2 user3@udc.es 1 1111222233334444" // Partido ya celebrado
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-buy 3 user 3 1111222233334444" // Comprar entrada email invalida
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-buy 3 '' 3 1111222233334444" // Comprar entrada email invalida
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-buy 3 user1@udc.es 1 1 " // Comprar entrada tarjeta invalida
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-buy 3 user1@udc.es 1 also " // COmprar tarjeta invalida

// Collect
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-collect 1 '1111222233334444'" // Collect
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-collect 1 '1111222233334444'" // Ya recogida
//Failing here 
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-collect 2 '1111222233334444'" // Collect
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-collect 9 '1111222233334444'" // Partido no existe

// Partidos
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-findMatches '2024-09-11T17:00'" // Get 1
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-findMatches '2024-11-11T17:00'" // Get 1 and 3
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-findMatches '2024-08-11T17:00'" // Get []
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-findMatches '2023-08-15T17:00' " //Exception or  []
// Listar entradas
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-findPurchases user1@udc.es" 
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-findPurchases user2@udc.es"
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-findPurchases udc@a.ex"

// Encontrar partido por id
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-findMatch 2" //Salida -> Found match with id '2': //          RestPartidoDto{PartidoId=2, Equipo_Visitante='Equipo B', Fecha_Del_partido=2023-09-15T12:00, Precio_Partido=15.0, Unidades_disponibles=250}
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-findMatch 9" // Salida -> Instance not found (identifier = 'es.udc.ws.app.model.Partido.Jdbc3CcSqlPartidoDao@7778899e' - type = 'Partido')


// Popular
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-findPopularMatches 10 '2024-11-01T00:00'" // id 1 entradas 1
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-findPopularMatches 190 '2024-11-01T00:00'" // id 1 entradas || 1 id 3 entradas 185
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-findPopularMatches 190 '2024-11-01T00:00'" // id 1 entrada 1
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-findPopularMatches 0 '2024-11-01T00:00'" // []
//Failing here
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-findPopularMatches -1 '2024-11-01T00:00'" // incorrecto
// Failing here
//mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-findPopularMatches 5 '2023-11-01T00:00'" // fecha futura

//3 [PASO NECESARIO PARA TENER UN PARTIDO PASADO CON ENTRADAS]
UPDATE Partido SET Fecha_del_partido='2023-09-15 12:00' WHERE PartidoID=3;
// Eliminar partido
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-removeMatch 3" //Elimina sin entradas
// Eliminar partido
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-removeMatch 2" //Elimina con entradas
// Eliminar partido
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-removeMatch 1" // No se puede eliminar
// Eliminar partido
mvn exec:java -Dexec.mainClass="es.udc.ws.app.client.ui.PartidoServiceClient" -Dexec.args="-removeMatch 2" // Fallo , ya eliminado 
